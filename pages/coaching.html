<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coaching Surf Personnalis√© ‚Äî SwellSync</title>
  <meta name="description"
    content="Coaching surf personnalis√©: vid√©os techniques par niveau, programme 30 jours, dictionnaire surf illustr√© et quiz. Progressez avec SwellSync.">
  <link rel="icon" href="/assets/icons/icon-192.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    :root {
      --bg: #0a0f1e;
      --text: #f1f5f9;
      --sub: #94a3b8;
      --muted: #64748b;
      --border: rgba(255, 255, 255, .07);
      --blue: #0ea5e9;
      --green: #10b981;
      --surface: rgba(255, 255, 255, .04)
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      padding-bottom: 80px
    }

    .header {
      padding: 20px 20px 0;
      margin-bottom: 16px
    }

    .header h1 {
      font-size: 24px;
      font-weight: 900;
      margin-bottom: 4px
    }

    .section-tabs {
      display: flex;
      gap: 8px;
      padding: 0 20px 16px;
      overflow-x: auto;
      scrollbar-width: none
    }

    .section-tab {
      padding: 8px 16px;
      border: 1px solid var(--border);
      border-radius: 20px;
      background: none;
      color: var(--sub);
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      transition: all .2s
    }

    .section-tab.active {
      background: rgba(14, 165, 233, .12);
      border-color: rgba(14, 165, 233, .3);
      color: var(--blue)
    }

    .section {
      display: none;
      padding: 0 20px
    }

    .section.active {
      display: block
    }

    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 16px;
      margin-bottom: 12px
    }

    .video-card {
      border-radius: 18px;
      overflow: hidden;
      margin-bottom: 12px;
      background: var(--surface);
      border: 1px solid var(--border)
    }

    .video-thumb {
      position: relative;
      aspect-ratio: 16/9;
      background: #0f172a;
      cursor: pointer;
      overflow: hidden
    }

    .video-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: .8
    }

    .play-btn {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 52px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, .5)
    }

    .video-info {
      padding: 12px
    }

    .video-title {
      font-weight: 700;
      font-size: 14px;
      margin-bottom: 4px
    }

    .level-badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 8px;
      font-size: 11px;
      font-weight: 700;
      margin-right: 6px
    }

    .badge-beginner {
      background: rgba(16, 185, 129, .15);
      color: var(--green)
    }

    .badge-intermediate {
      background: rgba(245, 158, 11, .15);
      color: #f59e0b
    }

    .badge-advanced {
      background: rgba(239, 68, 68, .15);
      color: #ef4444
    }

    .program-day {
      display: flex;
      gap: 12px;
      align-items: center;
      padding: 12px;
      border-bottom: 1px solid rgba(255, 255, 255, .05)
    }

    .day-num {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba(14, 165, 233, .12);
      border: 1px solid rgba(14, 165, 233, .2);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 13px;
      color: var(--blue);
      flex-shrink: 0
    }

    .day-done {
      background: rgba(16, 185, 129, .12);
      border-color: rgba(16, 185, 129, .3);
      color: var(--green)
    }

    .dict-item {
      border-bottom: 1px solid rgba(255, 255, 255, .05);
      padding: 12px 0
    }

    .dict-term {
      font-weight: 800;
      font-size: 15px;
      color: var(--blue);
      cursor: pointer
    }

    .dict-def {
      font-size: 13px;
      color: var(--sub);
      margin-top: 4px;
      display: none;
      line-height: 1.6
    }

    .dict-item.open .dict-def {
      display: block
    }

    .quiz-option {
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 12px;
      margin-bottom: 8px;
      cursor: pointer;
      font-size: 14px;
      color: var(--sub);
      transition: all .2s
    }

    .quiz-option:hover {
      border-color: rgba(14, 165, 233, .3);
      color: var(--text)
    }

    .quiz-option.correct {
      border-color: var(--green);
      background: rgba(16, 185, 129, .08);
      color: var(--green)
    }

    .quiz-option.wrong {
      border-color: #ef4444;
      background: rgba(239, 68, 68, .08);
      color: #ef4444
    }

    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(10, 15, 30, .95);
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-around;
      padding: 10px 0 16px
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 3px;
      text-decoration: none;
      color: var(--muted);
      font-size: 10px;
      font-weight: 600
    }

    .nav-item.active {
      color: var(--blue)
    }
  </style>
</head>

<body>
  <div class="header">
    <h1>üéØ Coaching Surf</h1>
    <div style="font-size:13px;color:var(--muted)" id="coaching-level">Niveau d√©tect√©: Interm√©diaire</div>
  </div>

  <!-- T91 ‚Äî Tabs coaching -->
  <div class="section-tabs">
    <button class="section-tab active" onclick="showSection('videos',this)">üé¨ Vid√©os</button>
    <button class="section-tab" onclick="showSection('program',this)">üìÖ Programme 30j</button>
    <button class="section-tab" onclick="showSection('dictionary',this)">üìö Dictionnaire</button>
    <button class="section-tab" onclick="showSection('quiz',this)">üéØ Quiz</button>
    <button class="section-tab" onclick="showSection('checklist',this)">‚úÖ √âquipement</button>
  </div>

  <!-- T92 ‚Äî Vid√©os techniques -->
  <div id="sec-videos" class="section active">
    <div style="display:flex;gap:8px;margin-bottom:14px;overflow-x:auto;scrollbar-width:none">
      <button class="section-tab active" onclick="filterLevel('all',this)"
        style="padding:6px 12px;font-size:12px">Tous</button>
      <button class="section-tab" onclick="filterLevel('beginner',this)" style="padding:6px 12px;font-size:12px">üå±
        D√©butant</button>
      <button class="section-tab" onclick="filterLevel('intermediate',this)" style="padding:6px 12px;font-size:12px">‚ö°
        Interm√©diaire</button>
      <button class="section-tab" onclick="filterLevel('advanced',this)" style="padding:6px 12px;font-size:12px">üî•
        Avanc√©</button>
    </div>
    <div id="videos-grid"></div>
  </div>

  <!-- T95 ‚Äî Programme 30 jours -->
  <div id="sec-program" class="section">
    <div class="card" style="margin-bottom:14px">
      <div style="font-size:12px;color:var(--blue);font-weight:700;margin-bottom:6px">üìÖ PROGRAMME 30 JOURS ‚Äî
        INTERM√âDIAIRE</div>
      <div style="font-size:13px;color:var(--sub)">Objectif: Bottom turn propre + cutback contr√¥l√©. 20-30 min/jour sur
        30 jours.</div>
      <div style="background:rgba(255,255,255,.05);border-radius:8px;height:6px;overflow:hidden;margin-top:10px">
        <div id="prog-bar"
          style="height:100%;background:linear-gradient(90deg,#0ea5e9,#10b981);border-radius:8px;width:0%;transition:width 1s">
        </div>
      </div>
      <div id="prog-text" style="font-size:11px;color:var(--muted);margin-top:4px">0/30 jours compl√©t√©s</div>
    </div>
    <div id="program-list"></div>
  </div>

  <!-- T97 ‚Äî Dictionnaire surf -->
  <div id="sec-dictionary" class="section">
    <div
      style="background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);border-radius:12px;padding:8px 12px;display:flex;align-items:center;gap:8px;margin-bottom:14px">
      <span style="color:var(--muted)">üîç</span>
      <input id="dict-search" type="text" placeholder="Chercher un terme..." oninput="filterDict(this.value)"
        style="background:none;border:none;outline:none;color:var(--text);font-size:14px;flex:1">
    </div>
    <div id="dict-list"></div>
  </div>

  <!-- T99 ‚Äî Quiz -->
  <div id="sec-quiz" class="section">
    <div class="card">
      <div id="quiz-content"></div>
      <div id="quiz-score" style="text-align:center;font-size:24px;font-weight:900;margin-top:10px;display:none"></div>
      <button id="quiz-next" onclick="nextQuestion()"
        style="display:none;width:100%;background:linear-gradient(135deg,#0ea5e9,#0284c7);border:none;border-radius:14px;padding:12px;color:white;font-weight:700;font-size:15px;cursor:pointer;margin-top:12px">Question
        suivante ‚Üí</button>
    </div>
  </div>

  <!-- T96 ‚Äî Checklist √©quipement -->
  <div id="sec-checklist" class="section">
    <div class="card">
      <div style="font-size:16px;font-weight:800;margin-bottom:14px">‚úÖ Checklist avant session</div>
      <div id="checklist-items"></div>
    </div>
  </div>

  <!-- Bottom nav -->
  <nav class="bottom-nav">
    <a href="/index.html" class="nav-item"><span style="font-size:22px">üè†</span>Accueil</a>
    <a href="/pages/session-live.html" class="nav-item"><span style="font-size:22px">üèÑ</span>Session</a>
    <a href="/pages/community.html" class="nav-item"><span style="font-size:22px">üë•</span>Communaut√©</a>
    <a href="/pages/stats.html" class="nav-item"><span style="font-size:22px">üìä</span>Stats</a>
    <a href="/pages/coaching.html" class="nav-item active"><span style="font-size:22px">üéØ</span>Coaching</a>
  </nav>

  <script>
    const videos = [
      { id: 'dQw4w9WgXcQ', title: 'Le take-off parfait', level: 'beginner', cat: 'technique', emoji: 'üèÑ', desc: 'Apprenez les bases du take-off: position des mains, dos plat, regard vers le bas.' },
      { id: 'dQw4w9WgXcQ', title: 'Duck dive ma√Ætris√©', level: 'intermediate', cat: 'technique', emoji: 'üåä', desc: 'Passer sous les vagues proprement sans perdre d\'√©nergie.' },
      { id: 'dQw4w9WgXcQ', title: 'Bottom turn puissant', level: 'intermediate', cat: 'man≈ìuvre', emoji: '‚ö°', desc: 'G√©n√©rer de la vitesse en bas de la vague pour pr√©parer vos man≈ìuvres.' },
      { id: 'dQw4w9WgXcQ', title: 'Cutback classique', level: 'advanced', cat: 'man≈ìuvre', emoji: 'üî•', desc: 'Revenir vers le curl proprement pour connecter les sections.' },
      { id: 'dQw4w9WgXcQ', title: 'Lire une vague', level: 'beginner', cat: 'strat√©gie', emoji: 'üó∫Ô∏è', desc: 'Anticiper les sections, trouver le pic, choisir ses vagues.' },
      { id: 'dQw4w9WgXcQ', title: 'Top turn (snap)', level: 'advanced', cat: 'man≈ìuvre', emoji: 'üí•', desc: 'Changement de direction au sommet de la vague avec spray.' },
    ];

    const dictionary = [
      { term: 'Houle', def: 'Ensemble de vagues g√©n√©r√©es par le vent au large qui se propagent jusqu\'aux c√¥tes. Caract√©ris√©e par sa hauteur, sa p√©riode et sa direction.' },
      { term: 'Take-off', def: 'Phase de d√©part sur la vague: pousser sur les bras, placer les pieds et se lever debout sur la planche en un mouvement fluide.' },
      { term: 'Duck dive', def: 'Technique qui consiste √† plonger sous une vague qui arrive pour ne pas √™tre repouss√©. Indispensable sur les shortboards.' },
      { term: 'Bottom turn', def: 'Virage au bas de la vague qui g√©n√®re de la vitesse et de l\'√©lan pour la man≈ìuvre suivante. Fondation de tout le surf.' },
      { term: 'Cutback', def: 'Man≈ìuvre qui ram√®ne le surfeur vers la mousse de la vague pour rester dans la partie puissante (le curl).' },
      { term: 'Tube / Barrel', def: 'Creux form√© par la vague qui se referme sur elle-m√™me. Surfer dans un tube est consid√©r√© comme la man≈ìuvre ultime.' },
      { term: 'P√©riode de houle', def: 'Temps en secondes entre deux vagues cons√©cutives. Plus la p√©riode est longue (10s+), plus la houle est puissante et organis√©e.' },
      { term: 'Set', def: 'Groupe de vagues plus grandes qui arrive apr√®s une accalmie. Les surfers exp√©riment√©s attendent les sets pour avoir les meilleures vagues.' },
      { term: 'Cleanup set', def: 'S√©rie de vagues exceptionnellement grandes qui balaie tout le monde √† l\'eau, m√™me ceux assis au peak.' },
      { term: 'Closeout', def: 'Vague qui se ferme d\'un seul coup sur toute sa longueur, sans section surfable. Conditions difficiles pour le surf.' },
      { term: 'Offshore', def: 'Vent soufflant de la terre vers la mer. Id√©al pour le surf: tient les l√®vres des vagues, cr√©e des conditions "glass".' },
      { term: 'Onshore', def: 'Vent soufflant de la mer vers la terre. D√©grade la qualit√© des vagues, les rend creuses et d√©sorganis√©es.' },
    ];

    const quizQuestions = [
      { q: 'Qu\'est-ce qu\'un vent offshore ?', opts: ['Vent de mer ‚Üí terre', 'Vent de terre ‚Üí mer', 'Vent parall√®le √† la c√¥te', 'Absence totale de vent'], correct: 1, exp: 'Un vent offshore souffle de la terre vers la mer, id√©al pour maintenir les vagues et cr√©er des conditions parfaites.' },
      { q: 'Quelle p√©riode de houle est la plus favorable pour le surf ?', opts: ['4-6 secondes', '6-8 secondes', '10-14 secondes', '20+ secondes'], correct: 2, exp: 'Une p√©riode de 10-14 secondes indique une houle organis√©e du large, avec de l\'√©nergie et de la puissance.' },
      { q: 'Qu\'est-ce qu\'un duck dive ?', opts: ['Sauter par-dessus une vague', 'Plonger sous une vague', 'Tourner brusquement', 'Sortir de l\'eau vite'], correct: 1, exp: 'Le duck dive consiste √† plonger sous la vague pour la traverser sans √™tre repouss√©.' },
      { q: 'Qu\'est-ce que le bottom turn ?', opts: ['Un virage en haut de vague', 'Un virage en bas de vague', 'Tomber √† l\'eau', 'Se lever sur la planche'], correct: 1, exp: 'Le bottom turn est le virage effectu√© au bas de la vague, qui g√©n√®re de la vitesse pour les man≈ìuvres suivantes.' },
      { q: '√Ä quoi sert une laisse (leash) ?', opts: ['D√©corer la planche', 'Rester attach√© √† la planche', 'Se tenir debout', 'Mesurer la houle'], correct: 1, exp: 'La laisse relie le surfeur √† sa planche pour ne pas la perdre et √©viter qu\'elle ne blesse d\'autres personnes.' },
    ];

    const checklist = [
      { cat: 'üèÑ Planche', items: ['Planche adapt√©e au niveau et aux conditions', 'Aileron(s) bien viss√©(s)', 'Pad (grip) propre et non d√©coll√©', 'Leash fonctionnel + swivel'] },
      { cat: 'üßú Combinaison', items: ['Combi adapt√©e √† la temp√©rature de l\'eau', 'Chaussures/gants si eau froide (<15¬∞C)', 'Cr√®me anti-frottement aux genoux/cou', 'Capuche si eau <12¬∞C'] },
      { cat: '‚òÄÔ∏è Protection', items: ['Cr√®me solaire SPF50+ waterproof', 'T-shirt/combi anti-UV si UV √©lev√©', 'Lunettes polaris√©es pour la route', 'Eau et collation pour apr√®s'] },
      { cat: 'üì± Pratique', items: ['V√©rifier les conditions sur SwellSync', 'Informer quelqu\'un de ton d√©part', 'Respecter la priorit√© et l\'√©tiquette surf'] },
    ];

    let currentQuestion = 0, score = 0;
    let done = JSON.parse(localStorage.getItem('sw_coaching_done') || '{}');
    let levelFilter = 'all';

    function showSection(id, btn) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById('sec-' + id)?.classList.add('active');
      document.querySelectorAll('.section-tabs .section-tab').forEach(t => t.classList.remove('active'));
      if (btn) btn.classList.add('active');
      if (id === 'quiz') initQuiz();
    }

    function filterLevel(level, btn) {
      levelFilter = level;
      document.querySelectorAll('#sec-videos .section-tab').forEach(t => t.classList.remove('active'));
      if (btn) btn.classList.add('active');
      renderVideos();
    }

    function renderVideos() {
      const grid = document.getElementById('videos-grid');
      if (!grid) return;
      const watched = JSON.parse(localStorage.getItem('sw_watched_videos') || '[]');
      const filtered = levelFilter === 'all' ? videos : videos.filter(v => v.level === levelFilter);
      grid.innerHTML = filtered.map((v, i) => {
        const levelClass = { beginner: 'badge-beginner', intermediate: 'badge-intermediate', advanced: 'badge-advanced' }[v.level];
        const isWatched = watched.includes(v.id + i);
        return `<div class="video-card">
      <div class="video-thumb" onclick="openVideo('${v.id}','${v.title}',${i})">
        <img src="https://img.youtube.com/vi/${v.id}/mqdefault.jpg" alt="${v.title}" loading="lazy">
        <div class="play-btn">${isWatched ? '‚úÖ' : '‚ñ∂Ô∏è'}</div>
      </div>
      <div class="video-info">
        <div class="video-title">${v.emoji} ${v.title}</div>
        <div style="margin-top:4px"><span class="level-badge ${levelClass}">${{ beginner: 'D√©butant', intermediate: 'Interm√©diaire', advanced: 'Avanc√©' }[v.level]}</span><span style="font-size:11px;color:var(--muted)">${v.cat}</span></div>
        <div style="font-size:12px;color:var(--muted);margin-top:6px">${v.desc}</div>
      </div>
    </div>`;
      }).join('');
    }

    function openVideo(id, title, idx) {
      const modal = document.createElement('div');
      modal.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,.9);z-index:9999;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px';
      modal.innerHTML = `<button onclick="this.parentElement.remove()" style="position:absolute;top:16px;right:16px;background:rgba(255,255,255,.1);border:none;border-radius:50%;width:36px;height:36px;color:white;font-size:20px;cursor:pointer">‚úï</button>
    <div style="font-weight:700;color:white;margin-bottom:14px;font-size:16px">${title}</div>
    <div style="width:100%;max-width:560px;aspect-ratio:16/9"><iframe src="https://www.youtube.com/embed/${id}?autoplay=1" style="width:100%;height:100%;border:none;border-radius:12px" allow="autoplay" allowfullscreen></iframe></div>`;
      document.body.appendChild(modal);
      const watched = JSON.parse(localStorage.getItem('sw_watched_videos') || '[]');
      if (!watched.includes(id + idx)) { watched.push(id + idx); localStorage.setItem('sw_watched_videos', JSON.stringify(watched)); renderVideos(); }
    }

    function renderProgram() {
      const el = document.getElementById('program-list');
      if (!el) return;
      const tasks = [
        'Regarder vid√©o: le take-off parfait + pratiquer 15 min √† sec',
        'Session courte (1h max) focus uniquement sur le paddle et le positionnement',
        'Exercice: 50 take-offs √† sec + 1h eau calme ou piscine',
        'Session: appliquer le take-off ‚Äî compter les r√©ussites',
        'Repos ‚Äî √©tirements surf + yoga 20 min',
        'Regarder vid√©o: lire une vague ‚Äî th√©orie 30 min',
        'Session: observer 30 min avant d\'entrer √† l\'eau',
        'Introduction au bottom turn: dessiner la courbe sur sable',
        'Session focus bottom turn ‚Äî vitesse secondaire',
        'Regarder vid√©o: duck dive complet',
        'Exercice piscine ou eau calme: 30 duck dives',
        'Session houle + entra√Æner duck dive sur chaque vague',
        // ... etc
      ].concat(Array.from({ length: 18 }, (_, i) => `Jour ${i + 14}: Programme avanc√© ‚Äî voir coaching.html`));
      const completedCount = Object.keys(done).filter(k => done[k]).length;
      const pct = Math.round(completedCount / 30 * 100);
      document.getElementById('prog-bar').style.width = pct + '%';
      document.getElementById('prog-text').textContent = `${completedCount}/30 jours compl√©t√©s (${pct}%)`;
      el.innerHTML = tasks.slice(0, 30).map((task, i) => {
        const dayDone = done['day' + i];
        return `<div class="program-day">
      <div class="day-num ${dayDone ? 'day-done' : ''}" onclick="toggleDay(${i},this)" title="Marquer compl√©t√©">${i + 1}</div>
      <div style="flex:1"><div style="font-size:13px;color:${dayDone ? '#64748b' : 'var(--sub)'}${dayDone ? ';text-decoration:line-through' : ''}">${task}</div></div>
      ${dayDone ? '<span style="color:#10b981">‚úì</span>' : ''}
    </div>`;
      }).join('');
    }

    function toggleDay(i, el) {
      done['day' + i] = !done['day' + i];
      localStorage.setItem('sw_coaching_done', JSON.stringify(done));
      renderProgram();
    }

    function renderDict() {
      document.getElementById('dict-list').innerHTML = dictionary.map(d => `
    <div class="dict-item" onclick="this.classList.toggle('open')">
      <div class="dict-term">${d.term}</div>
      <div class="dict-def">${d.def}</div>
    </div>`).join('');
    }

    function filterDict(q) {
      const filtered = dictionary.filter(d => d.term.toLowerCase().includes(q.toLowerCase()) || d.def.toLowerCase().includes(q.toLowerCase()));
      document.getElementById('dict-list').innerHTML = filtered.map(d => `<div class="dict-item" onclick="this.classList.toggle('open')"><div class="dict-term">${d.term}</div><div class="dict-def">${d.def}</div></div>`).join('');
    }

    function initQuiz() { currentQuestion = 0; score = 0; renderQuestion(); }
    function renderQuestion() {
      const el = document.getElementById('quiz-content');
      const scoreEl = document.getElementById('quiz-score');
      const nextBtn = document.getElementById('quiz-next');
      if (currentQuestion >= quizQuestions.length) {
        el.innerHTML = '';
        scoreEl.style.display = 'block';
        scoreEl.innerHTML = `${score >= 4 ? 'üèÜ' : score >= 2 ? 'üëç' : 'üí™'}<br><span style="font-size:16px;font-weight:400;color:var(--sub)">${score}/${quizQuestions.length} bonnes r√©ponses</span>`;
        nextBtn.style.display = 'none';
        document.getElementById('quiz-next').outerHTML = `<button onclick="initQuiz()" style="width:100%;background:linear-gradient(135deg,#10b981,#059669);border:none;border-radius:14px;padding:12px;color:white;font-weight:700;font-size:15px;cursor:pointer;margin-top:12px">Recommencer üîÑ</button>`;
        return;
      }
      const q = quizQuestions[currentQuestion];
      el.innerHTML = `<div style="font-size:12px;color:var(--muted);margin-bottom:8px">Question ${currentQuestion + 1}/${quizQuestions.length}</div>
    <div style="font-weight:800;font-size:15px;color:var(--text);margin-bottom:14px">${q.q}</div>
    ${q.opts.map((o, i) => `<div class="quiz-option" onclick="answerQuestion(${i},this)">${o}</div>`).join('')}`;
      nextBtn.style.display = 'none';
      scoreEl.style.display = 'none';
    }
    function answerQuestion(idx, el) {
      const q = quizQuestions[currentQuestion];
      document.querySelectorAll('.quiz-option').forEach(o => o.style.pointerEvents = 'none');
      el.classList.add(idx === q.correct ? 'correct' : 'wrong');
      if (idx === q.correct) { score++; }
      else { document.querySelectorAll('.quiz-option')[q.correct].classList.add('correct'); }
      const exp = document.createElement('div');
      exp.style.cssText = 'font-size:12px;color:var(--sub);margin-top:10px;padding:10px;background:rgba(255,255,255,.03);border-radius:10px;line-height:1.5';
      exp.textContent = 'üí° ' + q.exp;
      el.parentElement.appendChild(exp);
      document.getElementById('quiz-next').style.display = 'block';
    }
    function nextQuestion() { currentQuestion++; renderQuestion(); }

    function renderChecklist() {
      const el = document.getElementById('checklist-items');
      if (!el) return;
      const saved = JSON.parse(localStorage.getItem('sw_checklist') || '{}');
      el.innerHTML = checklist.map(cat => `
    <div style="margin-bottom:16px">
      <div style="font-weight:800;font-size:14px;margin-bottom:8px">${cat.cat}</div>
      ${cat.items.map((item, i) => {
        const key = cat.cat + i;
        return `<label style="display:flex;gap:10px;align-items:center;padding:8px 0;cursor:pointer;border-bottom:1px solid rgba(255,255,255,.04)">
          <input type="checkbox" ${saved[key] ? 'checked' : ''} onchange="saveChecklist('${key}',this.checked)" style="accent-color:#0ea5e9;width:16px;height:16px">
          <span style="font-size:13px;color:var(--sub)">${item}</span>
        </label>`;
      }).join('')}
    </div>`).join('');
    }

    function saveChecklist(key, val) {
      const saved = JSON.parse(localStorage.getItem('sw_checklist') || '{}');
      saved[key] = val; localStorage.setItem('sw_checklist', JSON.stringify(saved));
    }

    document.addEventListener('DOMContentLoaded', () => {
      const level = localStorage.getItem('sw_user_level') || 'Interm√©diaire';
      document.getElementById('coaching-level').textContent = `Niveau d√©tect√©: ${level}`;
      renderVideos();
      renderProgram();
      renderDict();
      renderChecklist();
    });
  </script>
</body>

</html>